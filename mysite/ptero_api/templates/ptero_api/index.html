{% load static %}
{% load custom_filters %}  {# –ü–æ–¥–∫–ª—é—á–∞–µ–º —Ñ–∏–ª—å—Ç—Ä #}

<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–§–∞–π–ª—ã —Å–µ—Ä–≤–µ—Ä–∞</title>
</head>
<body>

    <div class="container">
        <h1>–§–∞–π–ª—ã –≤ {{ current_directory }}</h1>

        {% if parent_directory %}
        <a href="?directory={{ parent_directory }}" class="back-btn">–ù–∞–∑–∞–¥</a>
        {% endif %}

        <ul class="file-list">
            {% for file in files %}
            <li class="file-item">
                {% if file.is_file %}
                    <!-- –ï—Å–ª–∏ —ç—Ç–æ —Ñ–∞–π–ª, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Å—ã–ª–∫—É –Ω–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ -->
                    <span class="file-name">üìÑ {{ file.name }}</span>
                    <span class="file-info">{{ file.size|format_size }}, –∏–∑–º–µ–Ω—ë–Ω {{ file.modified_at|format_date }}</span>
                    <a href="{% url 'download_file' file.path|urlencode %}" class="download-btn">üì• –°–∫–∞—á–∞—Ç—å</a>
                {% else %}
                    <!-- –ï—Å–ª–∏ —ç—Ç–æ –ø–∞–ø–∫–∞, –¥–µ–ª–∞–µ–º –µ—ë —Å—Å—ã–ª–∫–æ–π –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –≤–Ω—É—Ç—Ä—å -->
                    <a href="?directory={{ file.path }}" class="folder-link">üìÅ {{ file.name }}</a>
                {% endif %}
            </li>
            {% endfor %}
        </ul>
        

        {% if error %}
        <p class="error">{{ error }}</p>
        {% endif %}
    </div>

</body>
</html>
